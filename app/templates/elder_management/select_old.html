{% extends "template/index_all.html" %}
{% load static %}

{% block app-head %}
    <title>老年人信息查询</title>
{% endblock %}

{% block app-content %}
        <!-- begin::main-content -->
        <div class="main-content">

            <!-- begin::container -->
            <div class="container">

                <!-- begin::page-header -->
                <div class="page-header">
                    <h4>信息查询</h4>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item">
                                <a href="#">老年人信息管理</a>
                            </li>
                            <li class="breadcrumb-item active" aria-current="page">信息查询</li>
                        </ol>
                    </nav>
                </div>
                <!-- end::page-header -->

                <div class="row">
                    <div class="col-md-12">

                        <div class="card card-body p-0 overflow-hidden">
                            <div class="page-header page-header-cover p-t-b-40 mb-0"
                                data-backround-image="../static/assets/media/image/image1.png">
                                <div class="container">
                                    <div class="row d-flex justify-content-center">
                                        <div class="col-md-6">
                                            <h2 class="mb-4 text-center">What do you want to find?</h2>

                                            <form>
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control"
                                                        aria-label="Example text with button addon"
                                                        placeholder="请输入要查找的老人姓名..." aria-describedby="button-addon1"
                                                        id="key" onkeydown="onSearch(this)">
                                                    <script type="text/javascript">
                                                        function onSearch(obj) {//js函数开始
                                                            setTimeout(function () {//因为是即时查询，需要用setTimeout进行延迟，让值写入到input内，再读取
                                                                var storeId = document.getElementById('table-old');//获取table的id标识
                                                                var rowsLength = storeId.rows.length;//表格总共有多少行
                                                                var key = obj.value;//获取输入框的值
                                                                var searchCol = 1;//要搜索的哪一列，这里是第一列，从0开始数起
                                                                for (var i = 1; i < rowsLength; i++) {//按表的行数进行循环，本例第一行是标题，所以i=1，从第二行开始筛选（从0数起）
                                                                    var searchText = storeId.rows[i].cells[searchCol].innerHTML;//取得table行，列的值
                                                                    if (searchText.match(key)) {//用match函数进行筛选，如果input的值，即变量 key的值为空，返回的是ture，
                                                                        storeId.rows[i].style.display = '';//显示行操作，
                                                                    }
                                                                    else {
                                                                        storeId.rows[i].style.display = 'none';//隐藏行操作
                                                                    }
                                                                }
                                                            }, 200);//200为延时时间
                                                        }
                                                    </script>
                                                </div>
                                            </form>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table" id="table-old">
                                        <thead>
                                            <tr>
                                                <th scope="col">老人id</th>
                                                <th scope="col">老人姓名</th>
                                                <th scope="col">性别</th>
                                                <th scope="col">房间号</th>
                                                <th scope="col">头像</th>
                                                <th scope="col"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>1</td>
                                                <td>李老头</td>
                                                <td>男</td>
                                                <td>111</td>
                                                <td>
                                                    <figure class="avatar avatar-sm">
                                                        <img src="" class="rounded-circle" alt="image">
                                                    </figure>
                                                </td>
                                                <td>
                                                    <a href="/old_info"><button type="button"
                                                            class="btn btn-outline-primary">详细信息</button></a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>2</td>
                                                <td>老王头</td>
                                                <td>男</td>
                                                <td>222</td>
                                                <td>
                                                    <figure class="avatar avatar-sm">
                                                        <img src="" class="rounded-circle" alt="image">
                                                    </figure>
                                                </td>
                                                <td>
                                                    <a href="/old_info"><button type="button"
                                                            class="btn btn-outline-primary">详细信息</button></a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>3</td>
                                                <td>吉婶</td>
                                                <td>女</td>
                                                <td>333</td>
                                                <td>
                                                    <figure class="avatar avatar-sm">
                                                        <img src="" class="rounded-circle" alt="image">
                                                    </figure>
                                                </td>
                                                <td>
                                                    <a href="/old_info"><button type="button"
                                                            class="btn btn-outline-primary">详细信息</button></a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <!-- end::container -->

        </div>
        <!-- end::main-content -->
{% endblock %}

{% block app-foot %}

{% endblock %}